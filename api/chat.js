export const config = { runtime: "edge", }; export default async function handler(req) { try { const { message } = await req.json(); if (!message || message.trim() === "") { return new Response(JSON.stringify({ reply: "Please ask a question." }), { status: 400 }); } const response = await fetch("https://api.openai.com/v1/chat/completions", { method: "POST", headers: { "Content-Type": "application/json", Authorization: `Bearer ${process.env.OPENAI_API_KEY}` }, body: JSON.stringify({ model: "gpt-4", messages: [ { role: "system", content: "You are GymFlow AI, a helpful assistant for fitness and gym members." }, { role: "user", content: message } ], temperature: 0.7 }) }); const data = await response.json(); return new Response(JSON.stringify({ reply: data.choices[0].message.content }), { headers: { "Content-Type": "application/json" }, status: 200 }); } catch (error) { return new Response(JSON.stringify({ reply: "Sorry, I couldn't get a response right now." }), { status: 500 }); } }
// Triggering fresh Vercel build
